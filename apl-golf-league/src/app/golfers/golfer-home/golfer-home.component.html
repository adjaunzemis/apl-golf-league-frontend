<mat-spinner *ngIf="isLoadingGolferData"></mat-spinner>

<div class="content" *ngIf="!isLoadingGolferData">
  <h1>{{ golfer.name }} </h1>

  <div class="card-container">

    <!-- Re-enable when all historical data has been added -->
    <!-- <div class="card card-small">
      <span class="bold">Member Since</span>
      <span *ngIf="golfer.member_since; else noMemberSince">{{ golfer.member_since }}</span>
      <ng-template #noMemberSince>
        <span>--</span>
      </ng-template>
    </div> -->

    <div class="card card-small">
      <span class="bold">APL Handicap Index</span>
      <div *ngIf="golfer.handicap_index_data; else noHandicapData">
        <span>{{ golfer.handicap_index_data.active_handicap_index | number:'1.1-1' }}</span>
        <span *ngIf="golfer.handicap_index_data.pending_handicap_index">
          <span> (</span>
          <span class="italic" >Pending: {{ golfer.handicap_index_data.pending_handicap_index | number:'1.1-1' }}</span>
          <span>)</span>
        </span>
      </div>
      <ng-template #noHandicapData>
        <span>--</span>
      </ng-template>
    </div>

    <div class="card card-small">
      <span class="bold">Affiliation</span>
      <span>{{ golfer.affiliation }}</span>
    </div>
  </div>

  <h2>Flight Teams</h2>

  <div class="card-container">
    <a class="card card-small selectable" routerLink="/flight/team" [queryParams]="{id: data.team_id}" *ngFor="let data of golfer.team_golfer_data">
      <span class="bold">{{ data.team_name }} - {{ data.year }}</span>
      <span>{{ data.flight_name }} - {{ data.division_name }}</span>
    </a>
  </div>

  <h2>Scoring Record</h2>

  <p>Most recent rounds valid for handicapping (10 max, < 3 years old)</p>

  <app-scoring-record class="full-width" [rounds]="golfer.handicap_index_data.active_rounds" *ngIf="golfer.handicap_index_data && golfer.handicap_index_data.active_rounds; else noScoringRecordData"></app-scoring-record>
  <ng-template #noScoringRecordData>
    <span>No scoring record data!</span>
  </ng-template>

  <h2>Rounds</h2>

  <p>Current season, flight rounds only, organized by course</p>

  <app-combined-rounds-scorecard class="full-width" [rounds]="data.value" *ngFor="let data of roundsOrganizedByTee | keyvalue"></app-combined-rounds-scorecard>

</div>
