<p-card>
  <div class="flex flex-col sm:flex-row sm:items-center px-4 pt-4">
    <span class="text-2xl font-semibold">Rounds</span>

    <div class="mx-auto"></div>

    <p-togglebutton
      class="font-semibold"
      [onLabel]="labelScoringModeNet"
      [offLabel]="labelScoringModeGross"
      (onChange)="onChangeScoringMode($event)"
    />
  </div>

  <p-table [value]="rounds" stripedRows selectionMode="single" dataKey="round_id">
    <ng-template #header>
      <tr>
        <th class="w-20">Date</th>
        <th class="w-50">Golfer</th>
        <th class="w-10 text-center">Hcp</th>
        <th class="w-6 text-center" *ngFor="let holeNum of [1, 2, 3, 4, 5, 6, 7, 8, 9]">
          {{ holeNum }}
        </th>
        <th colspan="2" class="text-center">Total</th>
      </tr>
    </ng-template>
    <ng-template #body let-round>
      <tr [pSelectableRow]="round">
        <td class="text-gray-700">{{ round.date_played | date: 'shortDate' }}</td>
        <td class="font-semibold text-gray-700">{{ round.golfer_name }}</td>
        <td class="text-gray-700 text-center">{{ round.golfer_playing_handicap }}</td>
        <td
          class="text-gray-700 text-center font-semibold p-0.5"
          *ngFor="let holeNum of [1, 2, 3, 4, 5, 6, 7, 8, 9]"
        >
          <div
            [class.circle]="isHoleScoreBelowPar(round, holeNum)"
            [class.box]="isHoleScoreAbovePar(round, holeNum)"
            [class.crosshatch]="isHoleScoreAtLeastTwoFromPar(round, holeNum)"
            [class.bg-blue-100]="isHoleScoreBelowPar(round, holeNum)"
            [class.text-blue-500]="isHoleScoreBelowPar(round, holeNum)"
          >
            <span [class.text-blue-700]="isHoleScoreBelowPar(round, holeNum)">{{
              getScoreForHole(round, holeNum)
            }}</span>
          </div>
        </td>
        <td
          class="text-center font-semibold pl-2 pr-0.5"
          [class.text-blue-700]="isRoundScoreBelowPar(round)"
        >
          {{ getRoundScore(round) }}
        </td>
        <td class="text-gray-800 text-center font-semibold pr-1">
          (<span class="px-0.5" [class.text-blue-700]="isRoundScoreBelowPar(round)">{{
            getRoundScoreToPar(round)
          }}</span
          >)
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
