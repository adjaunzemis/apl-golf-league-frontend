<p-card>
  <div class="flex flex-1 flex-col px-4 py-4">
    <span class="text-2xl font-semibold">{{ update ? 'Update' : 'Create' }} Team</span>
  </div>
  
  <p-inputgroup class="px-4">
    <input
    pInputText
    [(ngModel)]="teamName"
    id="teamName"
    placeholder="Ex: Teamy McTeamFace"
    #tName="ngModel"
    required
    />
  </p-inputgroup>
  
  <small class="p-error text-red-400 px-4" *ngIf="tName.invalid && tName.dirty"
  >Invalid team name</small
  >
  
  <p-inputgroup class="p-4">
    <p-inputgroup-addon><i class="pi pi-user"></i></p-inputgroup-addon>
    
    <p-select
    class="ring-1 ring-gray-200 bg-gray-50 rounded-md text-left h-8 ml-2 pl-2 py-1"
    [options]="golferOptions"
    [(ngModel)]="newGolfer"
    optionLabel="name"
    [filter]="true"
    filterBy="name"
    [showClear]="true"
    placeholder="Golfer">
      <ng-template #selectedItem let-selectedOption>
        <div class="flex items-center gap-2">
          <div>{{ selectedOption.name }}</div>
        </div>
      </ng-template>
      <ng-template let-golfer #item>
        <div class="flex items-center gap-2">
          <div>{{ golfer.name }}</div>
        </div>
      </ng-template>
    </p-select>
    
    <p-select
    class="ring-1 ring-gray-200 bg-gray-50 rounded-md text-left h-8 ml-2 pl-2 py-1"
    [options]="roleOptions"
    [(ngModel)]="golferOptions"
    placeholder="Role"
    />
    
    <p-select
    class="ring-1 ring-gray-200 bg-gray-50 rounded-md text-left h-8 ml-2 pl-2 py-1"
    [options]="divisionOptions"
    [(ngModel)]="newGolferDivision"
    optionLabel="name"
    placeholder="Division"
    />
    
    <p-button (click)="addGolferToTeam()">
      <span class="pi pi-plus text-sm"></span>
    </p-button>
  </p-inputgroup>
  
  <p-table [value]="teamGolfers" stripedRows selectionMode="single" dataKey="golfer_id">
    <ng-template #header>
      <tr>
        <th>Golfer</th>
        <th>Role</th>
        <th>Division</th>
        <th class="w-4"></th>
      </tr>
    </ng-template>
    <ng-template #body let-golfer>
      <tr [pSelectableRow]="golfer">
        <td class="font-semibold text-gray-700">{{ golfer.name }}</td>
        <td class="text-gray-700">{{ golfer.role }}</td>
        <td class="text-gray-700">{{ golfer.division }}</td>
        <td>
          <p-button icon="pi pi-minus text-sm" (click)="removeGolferFromTeam(golfer)" rounded />
        </td>
      </tr>
    </ng-template>
  </p-table>
  
  <p-inputgroup class="flex items-center justify-center py-4">
    <p-button (click)="submitTeam()" rounded>Submit</p-button>
    <p-button (click)="clear()" rounded>Clear</p-button>
  </p-inputgroup>
</p-card>
